/*
 * psell 1.0.0
 * 
 * Kamil Kashaev // 2017-01-17 18:32:58
 * Released under the ISC license.
*/

!function(t){"use strict";var a=function(){var a=this;t(document).ready(function(){a.initialize()})},e=a.prototype;a.SCREEN_XS=480,a.SCREEN_SM=768,a.SCREEN_MD=992,a.SCREEN_LG=1200,e._callFunctions=null,e._resizeTimer=null,e.initialize=function(){this._enableEvents(),this._initBreakpoints(),this._initInk(),t("body").addClass("loaded")},e._enableEvents=function(){var a=this;t(window).on("scroll",function(t){console.log("scroll")}),t(window).on("resize",function(t){clearTimeout(a._resizeTimer),a._resizeTimer=setTimeout(function(){a._handleFunctionCalls(t)},300)})},e.getKnobStyle=function(a){var e=a.closest(".knob"),n={width:Math.floor(e.outerWidth()),height:Math.floor(e.outerHeight()),fgColor:e.css("color"),bgColor:e.css("border-top-color"),draw:function(){a.data("percentage")&&t(this.i).val(this.cv+"%")}};return n},e._initAccordion=function(){t(".panel-group .card .in").each(function(){var a=t(this).parent();a.addClass("expanded")}),t(".panel-group").on("hide.bs.collapse",function(a){var e=t(a.target),n=e.parent();n.removeClass("expanded")}),t(".panel-group").on("show.bs.collapse",function(a){var e=t(a.target),n=e.parent(),i=n.closest(".panel-group");i.find(".card.expanded").removeClass("expanded"),n.addClass("expanded")})},e._initInk=function(){var a=this;t(".ink-reaction").on("click",function(e){var n=t(this).get(0).getBoundingClientRect(),i=(e.clientX-n.left,e.clientY-n.top,a.getBackground(t(this))),s=a.getLuma(i)>183?" inverse":"",o=t('<div class="ink'+s+'"></div>'),r=t(this).offset(),l=e.pageX-r.left,c=e.pageY-r.top;o.css({top:c,left:l}).appendTo(t(this)),window.setTimeout(function(){o.remove()},1500)})},e.getBackground=function(t){var a=t.css("background-color"),e=parseFloat(a.split(",")[3],10);return(isNaN(e)||e>.8)&&"transparent"!==a?a:!t.is("body")&&this.getBackground(t.parent())},e.getLuma=function(t){var a=t.substring(4,t.length-1).split(","),e=a[0],n=a[1],i=a[2],s=.2126*e+.7152*n+.0722*i;return s},e._initBreakpoints=function(a){var e="";e+='<div id="device-breakpoints">',e+='<div class="device-xs visible-xs" data-breakpoint="xs"></div>',e+='<div class="device-sm visible-sm" data-breakpoint="sm"></div>',e+='<div class="device-md visible-md" data-breakpoint="md"></div>',e+='<div class="device-lg visible-lg" data-breakpoint="lg"></div>',e+="</div>",t("body").append(e)},e.isBreakpoint=function(a){return t(".device-"+a).is(":visible")},e.minBreakpoint=function(a){var e=["xs","sm","md","lg"],n=t("#device-breakpoints div:visible").data("breakpoint");return t.inArray(a,e)<t.inArray(n,e)},e.callOnResize=function(t){null===this._callFunctions&&(this._callFunctions=[]),this._callFunctions.push(t),t.call()},e._handleFunctionCalls=function(t){if(null!==this._callFunctions)for(var a=0;a<this._callFunctions.length;a++)this._callFunctions[a].call(),console.log("callFunctions = "+this._callFunctions)},window.glavsnab=window.glavsnab||{},window.glavsnab.App=new a}(jQuery),function(t,a){"use strict";var e=function(){var t=this;a(document).ready(function(){t.initialize()})},n=e.prototype;n.initialize=function(){this._initAjaxModals(),this._initScroller(),this._initTabs(),this._initTooltips(),this._initPopover(),this._initSortables()},n._initAjaxModals=function(){var t='<div class="loading-spinner"><div class="ps_loader"><span class="p">+</span><span>ps</span></div></div>';a.fn.modal.defaults.spinner=a.fn.modalmanager.defaults.spinner=t,a(".ajmodal").click(function(t){var e=a(this).attr("href"),n=a(this).attr("data-wth");return a.fn.modal.defaults.width=n,a(this).data("bs.modal",null),a("body").modalmanager("loading"),setTimeout(function(){a.get(e,function(t){function i(t){var e=a(".modal .modal-dialog");e.attr("class",e.attr("class")+" "+t+" animated")}var s=a('<div id="ajm_'+Math.floor(1e5*Math.random())+'" class="modal fade '+(n?"":"container")+'" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog">'+t+"</div>");s.modal(),console.log("open",e),i("zoomIn"),glavsnab.DemoTableDynamic._zaya_offers_postav("#offers_list2"),glavsnab.DemoTableDynamic._zaya_offers_inwork("#offers_list2_inwork"),glavsnab.DemoTableDynamic._zaya_offers_postconditions(),glavsnab.AppOffcanvas.initialize(),glavsnab.FormComponents.initialize(),glavsnab.AppVendor._initScroller(),glavsnab.AppVendor._initTabs(),glavsnab.AppVendor._initFotorama(),glavsnab.Zayavka._enableEvents(),s.on("hidden.bs.modal",function(){console.log("close",a(this)),i("zoomOut"),a(this).removeData("bs.modal"),glavsnab.AppOffcanvas.initialize()}),s.on("click",".update",function(){setTimeout(function(){s.find(".modal-body").prepend('<div class="alert alert-info fade in">Updated!<button type="button" class="close" data-dismiss="alert">&times;</button></div>')},1e4)}),a('button[data-target="myModalZ"]').click(function(){a("#myModalZ").modal("show")})})},1e3),!1})},n._initAjaxModals__=function(){var t=a("#ajax-modal"),e='<div class="loading-spinner" style="width: 200px; margin-left: -100px;"><div class="progress progress-striped active"><div class="progress-bar" style="width: 100%;"></div></div></div>',e='<div class="loading-spinner" style=""><div class="ps_loader"><span class="p">+</span><span>ps</span></div></div>';a.fn.modal.defaults.spinner=a.fn.modalmanager.defaults.spinner=e,a.fn.modalmanager.defaults.resize=!0,a("body").on("click",".ajax .btn, .ajmodal",function(){a("body").modalmanager("loading");var e=a(this).data("page");setTimeout(function(){t.load(e,"",function(){t.modal(),glavsnab.AppOffcanvas.initialize(),glavsnab.AppVendor.initialize(),glavsnab.FormComponents.initialize(),glavsnab.DemoTableDynamic._zaya_offers("#offers_list2");var e=a.fn.dataTable();e.fnClearTable(),e.fnDraw(),e.fnDestroy(),console.log(a.fn.dataTable.fnTables(!0)),t.on("show.bs.modal",function(t){}),t.on("hidden.bs.modal",function(t){a(this).removeData("bs.modal"),console.log(this)})})},1e3)}),t.on("click",".update",function(){t.modal("loading"),setTimeout(function(){console.log("prepend"),console.log(t.length),t.modal("loading").find(".modal-body").prepend('<div class="alert alert-info fade in">UPD!<button type="button" class="close" data-dismiss="alert">&times;</button></div>')},1e3)})},n._initScroller=function(){a.isFunction(a.fn.nanoScroller)&&(a.each(a(".scroll"),function(t){var e=a(this);console.log(e),glavsnab.AppVendor.removeScroller(e),glavsnab.AppVendor.addScroller(e)}),glavsnab.App.callOnResize(function(){a.each(a(".scroll-xs"),function(t){var e=a(this);e.is(":visible")&&(glavsnab.App.minBreakpoint("xs")?glavsnab.AppVendor.removeScroller(e):glavsnab.AppVendor.addScroller(e))}),a.each(a(".scroll-sm"),function(t){var e=a(this);e.is(":visible")&&(glavsnab.App.minBreakpoint("sm")?glavsnab.AppVendor.removeScroller(e):glavsnab.AppVendor.addScroller(e))}),a.each(a(".scroll-md"),function(t){var e=a(this);e.is(":visible")&&(glavsnab.App.minBreakpoint("md")?glavsnab.AppVendor.removeScroller(e):glavsnab.AppVendor.addScroller(e))}),a.each(a(".scroll-lg"),function(t){var e=a(this);e.is(":visible")&&(glavsnab.App.minBreakpoint("lg")?glavsnab.AppVendor.removeScroller(e):glavsnab.AppVendor.addScroller(e))})}))},n.addScroller=function(t){t.wrap('<div class="nano"><div class="nano-content"></div></div>');var a=t.closest(".nano");a.css({height:t.outerHeight()}),a.nanoScroller({preventPageScrolling:!0}),console.log(t.outerHeight()),t.css({height:"auto"})},n.removeScroller=function(t){t.parent().parent().hasClass("nano")!==!1&&(t.parent().parent().nanoScroller({destroy:!0}),t.parent(".nano-content").replaceWith(t),t.parent(".nano").replaceWith(t),t.attr("style",""))},n._initSortables=function(){a.isFunction(a.fn.sortable)&&a('[data-sortable="true"]').sortable({placeholder:"ui-state-highlight",delay:100,start:function(t,a){a.placeholder.height(a.item.outerHeight()-1)}})},n._initTabs=function(){a.isFunction(a.fn.tab)&&(a('[data-toggle="tabs"] a').click(function(t){t.preventDefault(),a(this).tab("show")}),a(".showtab").click(function(t){t.preventDefault(),a('a[href="'+a(this).attr("href")+'"]').tab("show")}))},n._initFotorama=function(){if(a.isFunction(a.fn.tab)){var t=a(".fotorama").fotorama();t.data("fotorama");["left","right"].forEach(function(t,e){var n=a(".fotorama__stage.fotorama__pointer");n.append(a("<div>").addClass("fa fa-fw fa-2x fa-chevron-"+t).addClass("gallery-"+t))})}},n._initTooltips=function(){a.isFunction(a.fn.tooltip)&&a('[data-toggle="tooltip"]').tooltip({container:"body"})},n._initPopover=function(){a.isFunction(a.fn.popover)&&a('[data-toggle="popover"]').popover({container:"body"})},window.glavsnab.AppVendor=new e}(this.glavsnab,jQuery),function(t,a){"use strict";var e=function(){var t=this;a(document).ready(function(){t.initialize()})},n=e.prototype;e.MENU_MAXIMIZED=1,e.MENU_COLLAPSED=2,e.MENU_HIDDEN=3,n._lastOpened=null,n.initialize=function(){this._enableEvents(),this._invalidateMenu(),this._evalMenuScrollbar()},n._enableEvents=function(){var t=this;a(window).on("resize",function(a){t._handleScreenSize(a)}),a('[data-toggle="menubar"]').on("click",function(a){t._handleMenuToggleClick(a)}),a('[data-dismiss="menubar"]').on("click",function(a){t._handleMenubarLeave()}),a("#main-menu").on("click","li",function(a){t._handleMenuItemClick(a)}),a("#main-menu").on("click","a",function(a){t._handleMenuLinkClick(a)}),a("body.menubar-hoverable").on("mouseenter","#menubar",function(a){setTimeout(function(){t._handleMenubarEnter()},1)}),a(".header-nav-profile .dropdown > a").on("click",function(a){t._handleMenubarLeave()})},n._handleScreenSize=function(t){this._invalidateMenu(),this._evalMenuScrollbar(t)},n._handleMenuToggleClick=function(t){glavsnab.App.isBreakpoint("xs")||a("body").toggleClass("menubar-pin");var n=this.getMenuState();n===e.MENU_COLLAPSED?this._handleMenubarEnter():n===e.MENU_MAXIMIZED?this._handleMenubarLeave():n===e.MENU_HIDDEN&&this._handleMenubarEnter()},n._handleMenuItemClick=function(t){t.stopPropagation();var n=a(t.currentTarget),i=n.find("> ul"),s=n.closest("ul");if(this._handleMenubarEnter(n),0!==i.children().length){this._closeSubMenu(s);var o=this.getMenuState()===e.MENU_COLLAPSED;(o||n.hasClass("expanded")===!1)&&this._openSubMenu(n)}},n._handleMenubarEnter=function(t){var e=this,n=a("body").hasClass("offcanvas-left-expanded"),i=a("#menubar").data("expanded"),s=void 0!==t;if((s===!0||n===!1)&&i!==!0&&(a("#content").one("mouseover",function(t){e._handleMenubarLeave()}),a("body").addClass("menubar-visible"),a("#menubar").data("expanded",!0),a("#menubar").triggerHandler("enter"),s===!1))if(this._lastOpened){var e=this;this._openSubMenu(this._lastOpened,0),this._lastOpened.parents(".gui-folder").each(function(){e._openSubMenu(a(this),0)})}else{var o=a("#main-menu > li.active");this._openSubMenu(o,0)}},n._handleMenubarLeave=function(){a("body").removeClass("menubar-visible"),glavsnab.App.minBreakpoint("md")&&a("body").hasClass("menubar-pin")||(a("#menubar").data("expanded",!1),glavsnab.App.isBreakpoint("xs")===!1&&this._closeSubMenu(a("#main-menu")))},n._handleMenuLinkClick=function(t){this.getMenuState()!==e.MENU_MAXIMIZED&&t.preventDefault()},n._closeSubMenu=function(t){var e=this;t.find("> li > ul").stop().slideUp(170,function(){a(this).closest("li").removeClass("expanded"),e._evalMenuScrollbar()})},n._openSubMenu=function(t,e){var n=this;"undefined"==typeof e&&(e=170),this._lastOpened=t,t.addClass("expanding"),t.find("> ul").stop().slideDown(e,function(){t.addClass("expanded"),t.removeClass("expanding"),n._evalMenuScrollbar(),a("#main-menu ul").removeAttr("style")})},n._invalidateMenu=function(){var t=a("#main-menu a.active");t.parentsUntil(a("#main-menu")).each(function(){a(this).is("li")&&(a(this).addClass("active"),a(this).addClass("expanded"))}),this.getMenuState()===e.MENU_COLLAPSED&&a("#main-menu").find("> li").removeClass("expanded"),a("body").hasClass("menubar-visible")&&this._handleMenubarEnter(),a("#main-menu").triggerHandler("ready"),a("#menubar").addClass("animate")},n.getMenuState=function(){var t=a("#menubar").css("transform"),n=t?t.match(/-?[\d\.]+/g):null,i=e.MENU_MAXIMIZED;return i=null===n?a("#menubar").width()<=100?e.MENU_COLLAPSED:e.MENU_MAXIMIZED:"0"===n[4]?e.MENU_MAXIMIZED:e.MENU_HIDDEN},n._evalMenuScrollbar=function(){if(a.isFunction(a.fn.nanoScroller)){var t=a("#menubar .menubar-foot-panel").outerHeight();t=Math.max(t,1),a(".menubar-scroll-panel").css({"padding-bottom":t});var e=a("#menubar");if(0!==e.length){var n=a(".menubar-scroll-panel"),i=n.parent();i.hasClass("nano-content")===!1&&n.wrap('<div class="nano"><div class="nano-content"></div></div>');var s=a(window).height()-e.position().top-e.find(".nano").position().top,o=n.closest(".nano");o.css({height:s}),o.nanoScroller({preventPageScrolling:!0,iOSNativeScrolling:!0})}}},window.glavsnab.AppNavigation=new e}(this.glavsnab,jQuery),function(t,a){"use strict";var e=function(){var t=this;a(document).ready(function(){t.initialize()})},n=e.prototype;n._timer=null,n._useBackdrop=null,n.initialize=function(){this._enableEvents()},n._enableEvents=function(){var t=this;a(window).on("resize",function(a){t._handleScreenSize(a)}),a(".offcanvas").on("refresh",function(a){t.evalScrollbar(a)}),a('[data-toggle="offcanvas"]').on("click",function(e){e.preventDefault(),t._handleOffcanvasOpen(a(e.currentTarget))}),a('[data-dismiss="offcanvas"]').on("click",function(a){t._handleOffcanvasClose()}),a("#wrapper").on("click","> .backdrop",function(a){t._handleOffcanvasClose()}),a('[data-toggle="offcanvas-left"].active').each(function(){t._handleOffcanvasOpen(a(this))}),a('[data-toggle="offcanvas-right"].active').each(function(){t._handleOffcanvasOpen(a(this))})},n._handleScreenSize=function(t){this.evalScrollbar(t)},n._handleOffcanvasOpen=function(t){if(t.hasClass("active"))return void this._handleOffcanvasClose();var a=t.attr("href");this._useBackdrop=void 0===t.data("backdrop")||t.data("backdrop"),this.openOffcanvas(a),this.invalidate()},n._handleOffcanvasClose=function(t){this.closeOffcanvas(),this.invalidate()},n.openOffcanvas=function(t){this.closeOffcanvas(),console.log("open"),a(t).addClass("active");var e=a(t).closest(".offcanvas:first").length>0;this._useBackdrop&&a("body").addClass("offcanvas-expanded");var n=a(t).width();n>a(document).width()&&(n=a(document).width()-8,a(t+".active").css({width:n})),n=e?n:"-"+n;var i="translate("+n+"px, 0)";a(t+".active").css({"-webkit-transform":i,"-ms-transform":i,"-o-transform":i,transform:i})},n.closeOffcanvas=function(){a('[data-toggle="offcanvas"]').removeClass("expanded"),a(".offcanvas-pane").removeClass("active"),a(".offcanvas-pane").css({"-webkit-transform":"","-ms-transform":"","-o-transform":"",transform:""})},n.toggleButtonState=function(){var t=a(".offcanvas-pane.active").attr("id");a('[data-toggle="offcanvas"]').removeClass("active"),a('[href="#'+t+'"]').addClass("active")},n.toggleBackdropState=function(){a(".offcanvas-pane.active").length>0&&this._useBackdrop?this._addBackdrop():this._removeBackdrop()},n._addBackdrop=function(){0===a("#wrapper > .backdrop").length&&"hidden"!==a("#wrapper").data("backdrop")&&a('<div class="backdrop"></div>').hide().appendTo("#wrapper").fadeIn()},n._removeBackdrop=function(){a("#wrapper > .backdrop").fadeOut(function(){a(this).remove()})},n.toggleBodyScrolling=function(){if(clearTimeout(this._timer),a(".offcanvas-pane.active").length>0&&this._useBackdrop){this.measureScrollbar(),parseInt(a("body").css("padding-right")||0,10)}else this._timer=setTimeout(function(){a("body").removeClass("offcanvas-expanded"),a("body").css("padding-right",""),a(".headerbar").removeClass("offcanvas-expanded"),a(".headerbar").css("padding-right","")},330)},n.invalidate=function(){this.toggleButtonState(),this.toggleBackdropState(),this.toggleBodyScrolling(),this.evalScrollbar()},n.evalScrollbar=function(){if(a.isFunction(a.fn.nanoScroller)){var t=a(".offcanvas-pane.active");if(0!==t.length){var e=a(".offcanvas-pane.active .offcanvas-body"),n=e.parent();n.hasClass("nano-content")===!1&&e.wrap('<div class="nano"><div class="nano-content"></div></div>');var i=a(window).height()-t.find(".nano").position().top-85,s=e.closest(".nano");s.css({height:i}),s.nanoScroller({preventPageScrolling:!0})}}},n.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",a("body").append(t);var e=t.offsetWidth-t.clientWidth;return a("body")[0].removeChild(t),e},window.glavsnab.AppOffcanvas=new e}(this.glavsnab,jQuery),function(t,a){"use strict";var e=function(){var t=this;a(document).ready(function(){t.initialize()})},n=e.prototype;n.initialize=function(){this._enableEvents(),this._initRadioAndCheckbox(),this._initFloatingLabels(),this._initValidation(),this._initShowPassword(),this._initKladr()},n._enableEvents=function(){a('[data-submit="form"]').on("click",function(t){t.preventDefault();var e=a(t.currentTarget).attr("href");a(e).submit()}),a("textarea.autosize").on("focus",function(){a(this).autosize({append:""})}),a(document).on("click",".btn-add",function(t){t.preventDefault();var e=a(".controls form:first"),n=a(this).parents(".entry:first"),i=a(n.clone()).appendTo(e);i.find("input").val(""),e.find(".entry:not(:last) .btn-add").removeClass("btn-add").addClass("btn-remove").removeClass("btn-success").addClass("btn-danger").html('<span class="glyphicon glyphicon-minus"></span>')}).on("click",".btn-remove",function(t){return a(this).parents(".entry:first").remove(),t.preventDefault(),!1})},n._initRadioAndCheckbox=function(){a(".checkbox-styled input, .radio-styled input").each(function(){0===a(this).next("span").length&&a(this).after("<span></span>")})},n._initFloatingLabels=function(){a(".floating-label .form-control").on("keyup change",function(t){var e=a(t.currentTarget);""!==a.trim(e.val())?e.addClass("dirty").removeClass("static"):e.removeClass("dirty").removeClass("static")}),a(".floating-label .form-control").each(function(){var t=a(this);""!==a.trim(t.val())&&t.addClass("static").addClass("dirty")}),a(".form-horizontal .form-control").each(function(){a(this).after('<div class="form-control-line"></div>')})},n._initValidation=function(){a.isFunction(a.fn.validate)&&(a.validator.setDefaults({highlight:function(t){a(t).closest(".form-group").removeClass("has-success").addClass("has-error")},unhighlight:function(t){a(t).closest(".form-group").removeClass("has-error")},success:function(t){a(t).closest(".form-group").addClass("has-success")},errorElement:"span",errorClass:"help-block",errorPlacement:function(t,a){a.parent(".input-group").length?t.insertAfter(a.parent()):a.parent("label").length?t.insertAfter(a.parent()):t.insertAfter(a)}}),a(".form-validate").each(function(){var t=a(this).validate({lang:"ru"});a(this).data("validator",t)}),a(".form-validate").bind("change keyup",function(){a(this).valid()?a(".form-validate").find(".btn").prop("disabled",!1):a(".form-validate").find(".btn").prop("disabled","disabled")}))},n._initShowPassword=function(t){a(".pwd .btn").bind("click",function(){var t=a(".pwd input");a(this).parent().find("input").focus(),a(this).closest("form").find(".pwd .btn").toggleClass("glyphicon-eye-close"),"password"===t.attr("type")?t.attr("type","text"):t.attr("type","password")})},n._initKladr=function(t){function e(t,a){a=a.charAt(0).toUpperCase()+a.substr(1).toLowerCase(),t.parent().find("label").text(a)}function n(t,a){o.find("span").text(a);var e=t.offset(),n=t.outerWidth(),i=t.outerHeight(),s=o.outerHeight();o.css({left:e.left+n+10+"px",top:e.top+(i-s)/2-1+"px"}),o.show()}var i=a('[name="city"]'),s=a('[name="region"]'),o=a(".tooltip");a.kladr.setDefault({parentInput:".form",limit:5,verify:!0,select:function(t){e(a(this),t.type),o.hide()},check:function(t){var i=a(this);t?(e(i,t.type),o.hide()):n(i,"Введено неверно")},checkBefore:function(){var t=a(this);if(!a.trim(t.val()))return o.hide(),!1}}),i.kladr("type",a.kladr.type.city),s.kladr("type",a.kladr.type.region)},window.glavsnab.AppForm=new e}(this.glavsnab,jQuery),function(t,a){"use strict";var e=function(){var t=this;a(document).ready(function(){t.initialize()})},n=e.prototype;n._clearSearchTimer=null,n.initialize=function(){this._enableEvents()},n._enableEvents=function(){var t=this;a(".navbar-search .btn").on("click",function(a){t._handleButtonClick(a)}),a(".navbar-search input").on("blur",function(a){t._handleFieldBlur(a)})},n._handleButtonClick=function(t){t.preventDefault();var e=a(t.currentTarget).closest("form"),n=e.find("input"),i=n.val();""===a.trim(i)?(e.addClass("expanded"),n.focus()):(e.addClass("expanded"),e.submit(),clearTimeout(this._clearSearchTimer))},n._handleFieldBlur=function(t){var e=a(t.currentTarget);e.closest("form");clearTimeout(this._clearSearchTimer),this._clearSearchTimer=setTimeout(function(){e.val("")},300)},window.glavsnab.AppNavSearch=new e}(this.glavsnab,jQuery),function(t,a){"use strict";var e=function(){var t=this;a(document).ready(function(){t.initialize()})},n=e.prototype;n.initialize=function(){this._initDataTables()},n.destroyDataTable=function(t){if(a.isFunction(a.fn.dataTable)){var e=a.fn.dataTable.fnTables(!0);a(e).each(function(){a(this).dataTable().fnDestroy()})}},n._initDataTables=function(){a.isFunction(a.fn.dataTable)&&(this._zaya_offers_postav(),this._zaya_offers_postconditions(),this._zaya_offers_inwork(),this._profile_userlist(),this._createDataTable3())},n._zaya_offers_postconditions=function(){function t(t,a,e){console.log("The new value for the cell is: "+t.data()),console.log("The old value for that cell was: "+e),console.log("The values for each cell in that row are: "+a.data())}var e=a("#postconditions").DataTable({bPaginate:!1,bFilter:!1,bInfo:!1,info:!1});console.log(e),e.MakeCellsEditable({onUpdate:t,confirmationButton:{confirmCss:"btn btn-success btn-xs",cancelCss:"btn btn-danger btn-xs"}})},n._zaya_offers_postav=function(){function t(t,e,n){console.log("The new value for the cell is: "+t.data()),console.log("The values for each cell in that row are: "+e.data()),a(".zaya_actions_btn .btn").removeClass("disabled")}var e=a("#offers_postav").DataTable({dom:"lCfrtip",ajax:a("#offers_postav").data("source"),bLengthChange:!1,bInfo:!1,scrollY:"315px",scrollCollapse:!0,paging:!1,columns:[{data:"name"},{data:"name"},{data:"unit"},{data:"qnt"},{data:"price"}],bSort:!1,colVis:{buttonText:"<i class='fa fa-filter'></i>",overlayFade:0,align:"right",exclude:[0]},tableTools:{sSwfPath:"/js/libs/DataTables/extensions/TableTools/swf/copy_csv_xls_pdf.swf"},language:{url:"data/dt_russian.json"},fnCreatedRow:function(t,e,n){a(t).children("td:eq(0)").addClass("t_idx"),a(t).children("td:eq(1)").addClass("t_name").wrapInner("<div></div>"),a(t).children("td:gt(2)").addClass("t_suppl");var i=Math.floor(2+4*Math.random());a("td:eq("+i+")",t).addClass("style-primary-bright")}});e.MakeCellsEditable({onUpdate:t,columns:[3,4,5],confirmationButton:{confirmCss:"btn btn-success btn-xs",cancelCss:"btn btn-danger btn-xs"}}),e.on("order.dt search.dt",function(){e.column(0,{search:"applied",order:"applied"}).nodes().each(function(t,a){t.innerHTML=a+1})}).draw(),a("#offers_postav tbody").on("mouseenter","td",function(){var t=e.cell(this).index().column;t>1&&(a(e.cells().nodes()).removeClass("highlight"),a(e.column(t).nodes()).addClass("highlight"))}).on("mouseleave","td",function(){a(e.cells().nodes()).removeClass("highlight")}),a("#offers_postav thead th").each(function(t){a(this).text();t>3&&a(this).popover({html:!0,content:'<dl class="offers_list__suppl"><dt>Статус</dt><dd>В ожидании ответа &nbsp;<i class="fa fa-refresh text-warning"></i></dd><dt>Рейтинг</dt><dd><div class="rating text-warning"><span class="glyphicon glyphicon-star"></span><span class="glyphicon glyphicon-star"></span><span class="glyphicon glyphicon-star"></span><span class="glyphicon glyphicon-star"></span><span class="glyphicon glyphicon-star-empty"></span></div></dd><dt>Характеристика поставщика</dt><dd>посредник</dd><dt>Время существования поставщика на рынке</dt><dd>нет данных</dd><dt>Продолжительность работы с поставщиком</dt><dd>нет данных</dd><dt>Надежность поставщика</dt><dd>нет данных</dd></dl>',trigger:"hover",placement:"bottom",container:"body"})}),a("#offers_postav tbody").on("click","tr",function(){})},n._zaya_offers_inwork=function(){var t=a(window).height()>990?"505px":"100px";console.log(t),a(window).on("resize",function(t){var a=glavsnab.App.minBreakpoint("sm")?"505px":"100px";console.log(a)});var e=a("#offers_list2_inwork").DataTable({dom:"lCfrtip",ajax:a("#offers_list2_inwork").data("source"),bLengthChange:!1,bInfo:!1,scrollY:a(window).height()>990?"455px":"355px",scrollCollapse:!0,paging:!1,columns:[{data:"name"},{data:"name"},{data:"unit",visible:!1},{data:"qnt",visible:!1},{data:"price"},{data:"price"},{data:"price"},{data:"price"}],bSort:!1,colVis:{buttonText:"<i class='fa fa-filter'></i>",overlayFade:0,align:"right",exclude:[0]},tableTools:{sSwfPath:"/js/libs/DataTables/extensions/TableTools/swf/copy_csv_xls_pdf.swf"},language:{url:"/data/dt_russian.json"},fnCreatedRow:function(t,e,n){a(t).children("td:eq(0)").addClass("t_idx"),a(t).children("td:eq(1)").addClass("t_name").wrapInner("<div></div>"),a(t).children("td:gt(2)").addClass("t_suppl");var i=Math.floor(2+4*Math.random());a("td:eq("+i+")",t).addClass("style-primary-bright")}});e.on("order.dt search.dt",function(){e.column(0,{search:"applied",order:"applied"}).nodes().each(function(t,a){t.innerHTML=a+1})}).draw(),e.on("mouseenter","td",function(){var t=e.cell(this).index().column;t>1&&(a(e.cells().nodes()).removeClass("highlight"),a(e.column(t).nodes()).addClass("highlight"))}).on("mouseleave","td",function(){a(e.cells().nodes()).removeClass("highlight")}),a("#offers_list2_inwork thead th").each(function(t){a(this).text();t>3&&a(this).popover({html:!0,content:'<dl class="offers_list__suppl"><dt>Статус</dt><dd>В ожидании ответа &nbsp;<i class="fa fa-refresh text-warning"></i></dd><dt>Рейтинг</dt><dd><div class="rating text-warning"><span class="glyphicon glyphicon-star"></span><span class="glyphicon glyphicon-star"></span><span class="glyphicon glyphicon-star"></span><span class="glyphicon glyphicon-star"></span><span class="glyphicon glyphicon-star-empty"></span></div></dd><dt>Характеристика поставщика</dt><dd>посредник</dd><dt>Время существования поставщика на рынке</dt><dd>нет данных</dd><dt>Продолжительность работы с поставщиком</dt><dd>нет данных</dd><dt>Надежность поставщика</dt><dd>нет данных</dd></dl>',trigger:"hover",placement:"bottom",container:"body"})}),a("#offers_list2_inwork tbody").on("click","tr",function(){})},n._profile_userlist=function(){var t=a("#users_list").DataTable({dom:"lCfrtip",ajax:a("#users_list").data("source"),colVis:{buttonText:"<i class='fa fa-filter'></i>",overlayFade:0,align:"right",activate:"mouseover"},bInfo:!1,iDisplayLength:10,columns:[{"class":"details-control",orderable:!1,data:null,defaultContent:""},{data:"name"},{data:"position"},{data:"office"}],tableTools:{sSwfPath:"/js/libs/DataTables/extensions/TableTools/swf/copy_csv_xls_pdf.swf"},order:[[1,"asc"]],language:{url:"/data/dt_russian.json"},fnCreatedRow:function(t,e,n){a(t).children("td:eq(2)").wrapInner("<a href='#'></a>")}});a.fn.editable.defaults.mode="inline",a("#users_list td:gt(2)").editable({type:"select",name:"Type",title:"Type",source:[{value:0,text:"Nothing"},{value:1,text:"Everything"},{value:2,text:"Something"},{value:3,text:"That Thing"},{value:4,text:"This Thing"},{value:5,text:"Things"}]});var e=this;a("#users_list tbody").on("click","td.details-control",function(){var n=a(this).closest("tr"),i=t.row(n);i.child.isShown()?(i.child.hide(),n.removeClass("shown")):(i.child(e._UserlistDetails(i.data())).show(),n.addClass("shown"))})},n._UserlistDetails=function(t){return'<div style="position:relative;"><table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;"><tr><td class="text-right" >Полное имя:</td><td>'+t.name+'</td></tr><tr><td class="text-right" >Дата:</td><td>'+t.start_date+'</td></tr><tr><td class="text-right" >Extension number:</td><td>'+t.extn+'</td></tr></table><img src="'+t.pic+'" style="position:absolute; top:0; right:5%"/></div>'},n._createDataTable3=function(){var t=a("#datatable1").DataTable({dom:"lCfrtip",ajax:a("#datatable1").data("source"),bInfo:!1,colVis:{buttonText:"<i class='fa fa-filter'></i>",overlayFade:0,align:"right",exclude:[0],activate:"mouseover"},order:[[1,"asc"]],columns:[{"class":"details-control",orderable:!1,data:null,defaultContent:""},{data:"name"},{data:"position"},{data:"office"},{data:"salary"}],language:{url:"/data/dt_russian.json"}}),e=this;a("#datatable1 tbody").on("click","td.details-control",function(){var n=a(this).closest("tr"),i=t.row(n);i.child.isShown()?(i.child.hide(),n.removeClass("shown")):(i.child(e._formatDetails2(i.data())).show(),n.addClass("shown"))})},n._formatDetails2=function(t){return'<table cellpadding="5" cellspacing="0" border="0" style="padding-left:50px;"><tr><td>Полное имя:</td><td>'+t.name+"</td></tr><tr><td>Номер:</td><td>"+t.extn+"</td></tr><tr><td>Полная информация:</td><td>And any further details here (images etc)...</td></tr></table>"},t.DemoTableDynamic=new e}(this.glavsnab,jQuery),function(t,a){"use strict";var e=function(){var t=this;a(document).ready(function(){t.initialize()})},n=e.prototype;n.initialize=function(){},n.addCardLoader=function(t){var e=a('<div class="card-loader"></div>').appendTo(t);e.hide().fadeIn();var n={lines:17,length:0,width:3,radius:6,corners:1,rotate:13,direction:1,color:"#000",speed:2,trail:76,shadow:!1,hwaccel:!1,className:"spinner",zIndex:2e9},i=new Spinner(n).spin(e.get(0));t.data("card-spinner",i)},n.removeCardLoader=function(t){var a=t.data("card-spinner"),e=t.find(".card-loader");e.fadeOut(function(){a.stop(),e.remove()})},n.toggleCardCollapse=function(t,e){e="undefined"!=typeof e?e:400;var n=!1;t.find(".nano").slideToggle(e),t.find(".card-body").slideToggle(e,function(){n===!1&&(a("#COLLAPSER").triggerHandler("card.bb.collapse",[!a(this).is(":visible")]),n=!0)}),t.toggleClass("card-collapsed")},n.removeCard=function(t){t.fadeOut(function(){t.remove()})},window.glavsnab.AppCard=new e}(this.glavsnab,jQuery),function(t,a){"use strict";var e=function(){var t=this;a(document).ready(function(){t.initialize()})},n=e.prototype;n.initialize=function(){this._initTypeahead(),this._initAutocomplete(),this._initSelect2(),this._initMultiSelect(),this._initInputMask(),this._initDatePicker(),this._initSliders(),this._initSpinners(),this._initColorPickers()},n._initTypeahead=function(){if(a.isFunction(a.fn.typeahead)){var t=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.obj.whitespace("name"),queryTokenizer:Bloodhound.tokenizers.whitespace,limit:10,prefetch:{url:a("#autocomplete1").data("source"),filter:function(t){return a.map(t,function(t){return{name:t}})}}});t.initialize(),a("#autocomplete1").typeahead(null,{name:"countries",displayKey:"name",source:t.ttAdapter()})}},n._initAutocomplete=function(){a.isFunction(a.fn.autocomplete)&&a.ajax({url:a("#autocomplete2").data("source"),dataType:"json",success:function(t){a("#autocomplete2").autocomplete({source:function(e,n){var i=a.ui.autocomplete.filter(t,e.term);n(i.slice(0,10))}})}})},n._initColorPickers=function(){a.isFunction(a.fn.colorpicker)&&(a("#cp1").colorpicker(),a("#cp2").colorpicker(),a("#cp3").colorpicker().on("changeColor",function(t){a(t.currentTarget).closest(".card-body").css("background",t.color.toHex())}))},n._initSpinners=function(){a.isFunction(a.fn.spinner)&&(a("#spinner").spinner({min:16}),a("#spinner-decimal").spinner({step:.01,numberFormat:"n",max:1}))},n._initSliders=function(){a.isFunction(a.fn.slider)&&(a("#slider").slider({range:"min",value:50,min:0,max:100,slide:function(t,e){a("#slider-value").empty().append(e.value)}}),a("#slider-step").slider({value:100,min:0,max:500,step:50,slide:function(t,e){a("#step-value").empty().append(e.value)}}),a("#slider-range").slider({range:!0,min:0,max:100,values:[25,75],slide:function(t,e){a("#range-value1").empty().append(e.values[0]),a("#range-value2").empty().append(e.values[1])}}),a("#eq > span").each(function(){var t=parseInt(a(this).text(),10);a(this).empty().slider({value:t,range:"min",animate:!0,
orientation:"vertical"}),a(this).css("height","100px"),a(this).css("margin-right","30px"),a(this).css("float","left")}))},n._initSelect2=function(){a.isFunction(a.fn.select2)&&a(".select2-list").select2({allowClear:!0})},n._initMultiSelect=function(){a.isFunction(a.fn.multiSelect)&&a("#optgroup").multiSelect({selectableOptgroup:!0})},n._initInputMask=function(){a.isFunction(a.fn.inputmask)&&(a(":input").inputmask(),a(".form-control.dollar-mask").inputmask("$ 999,999,999.99",{numericInput:!0,rightAlignNumerics:!1}),a(".form-control.euro-mask").inputmask("€ 999.999.999,99",{numericInput:!0,rightAlignNumerics:!1}),a(".form-control.time-mask").inputmask("h:s",{placeholder:"hh:mm"}),a(".form-control.time12-mask").inputmask("hh:mm t",{placeholder:"hh:mm xm",alias:"time12",hourFormat:"12"}),a(".form-control.email input").inputmask({mask:"9[-9999]",greedy:!1}))},n._initDatePicker=function(){a.isFunction(a.fn.datepicker)&&(a("#demo-date").datepicker({autoclose:!0,todayHighlight:!0,format:"dd/mm/yyyy",language:"ru"}),a("#demo-date-month").datepicker({autoclose:!0,todayHighlight:!0,minViewMode:1}),a("#demo-date-format").datepicker({autoclose:!0,todayHighlight:!0,format:"dd/mm/yyyy"}),a("#demo-date-range").datepicker({todayHighlight:!0}),a("#demo-date-inline").datepicker({todayHighlight:!0}))},n.initDataTables=function(t){a.isFunction(a.fn.dataTable)&&(a.extend(jQuery.fn.dataTableExt.oSort,{"numeric-comma-pre":function(t){var a="-"==t?0:t.replace(/,/,".");return parseFloat(a)},"numeric-comma-asc":function(t,a){return t<a?-1:t>a?1:0},"numeric-comma-desc":function(t,a){return t<a?1:t>a?-1:0}}),t.dataTable({sDom:"lCfrtip",sPaginationType:"full_numbers",aaSorting:[],aoColumns:[null,null,null,{sType:"numeric-comma"},null],oColVis:{buttonText:"Columns",iOverlayFade:0,sAlign:"right"},oLanguage:{sLengthMenu:"_MENU_ entries per page",sSearch:'<i class="icon-search"></i>',oPaginate:{sPrevious:'<i class="fa fa-angle-left"></i>',sNext:'<i class="fa fa-angle-right"></i>'}}}))},t.FormComponents=new e}(this.glavsnab,jQuery),function(t,a){"use strict";var e=function(){var t=this;a(document).ready(function(){t.initialize()})},n=e.prototype;n.messageTimer=null,n.initialize=function(){this._initToastr(),a("#toast-info").trigger("click")},n._initToastr=function(){this._initStateToastr(),this._initCustomToastr(),this._initPositionToastr(),this._initActionToastr()},n._initCustomToastr=function(){a("#toast-custom").on("click",function(t){toastr.options.hideDuration=0,toastr.clear(),toastr.options.closeButton="true"===a('select[name="closeButton"]').val(),toastr.options.progressBar="true"===a('select[name="progressBar"]').val(),toastr.options.debug="true"===a('select[name="debug"]').val(),toastr.options.positionClass=a('select[name="positionClass"]').val(),toastr.options.showDuration=parseInt(a('select[name="showDuration"]').val()),toastr.options.hideDuration=parseInt(a('select[name="hideDuration"]').val()),toastr.options.timeOut=parseInt(a('select[name="timeOut"]').val()),toastr.options.extendedTimeOut=parseInt(a('select[name="extendedTimeOut"]').val()),toastr.options.showEasing=a('select[name="showEasing"]').val(),toastr.options.hideEasing=a('select[name="hideEasing"]').val(),toastr.options.showMethod=a('select[name="showMethod"]').val(),toastr.options.hideMethod=a('select[name="hideMethod"]').val(),toastr[a("#state").val()](a("#message").val(),"")})},n._showCustomMessage=function(){toastr.options.closeButton="true"===a('select[name="closeButton"]').val(),toastr.options.progressBar="true"===a('select[name="progressBar"]').val(),toastr.options.debug="true"===a('select[name="debug"]').val(),toastr.options.positionClass=a('select[name="positionClass"]').val(),toastr.options.showDuration=parseInt(a('select[name="showDuration"]').val()),toastr.options.hideDuration=parseInt(a('select[name="hideDuration"]').val()),toastr.options.timeOut=parseInt(a('select[name="timeOut"]').val()),toastr.options.extendedTimeOut=parseInt(a('select[name="extendedTimeOut"]').val()),toastr.options.showEasing=a('select[name="showEasing"]').val(),toastr.options.hideEasing=a('select[name="hideEasing"]').val(),toastr.options.showMethod=a('select[name="showMethod"]').val(),toastr.options.hideMethod=a('select[name="hideMethod"]').val(),toastr[a("#state").val()](a("#message").val(),"")},n._initStateToastr=function(){var t=this;a("#toast-info").on("click",function(a){t._toastrStateConfig(),toastr.info("Welcome to the messages section","")}),a("#toast-warning").on("click",function(a){t._toastrStateConfig(),toastr.warning("This name is already added","")}),a("#toast-error").on("click",function(a){t._toastrStateConfig(),toastr.error("Duplicate item","")})},n._initPositionToastr=function(){var t=this;a(".position-toast").on("click",function(e){toastr.options.hideDuration=0,toastr.clear(),t._toastrStateConfig(),toastr.options.timeOut=0,toastr.options.positionClass=a(e.currentTarget).data("position"),toastr.info("Position message","")})},n._initActionToastr=function(){var t=this;a("#toast-info-progress").on("click",function(a){toastr.clear(),t._toastrStateConfig(),toastr.options.progressBar=!0,toastr.info("Message with a progressbar","")}),a("#toast-info-close").on("click",function(a){toastr.clear(),t._toastrStateConfig(),toastr.options.closeButton=!0,toastr.info("Message with a close button","")}),a("#toast-action").on("click",function(t){toastr.clear(),toastr.options.closeButton=!1,toastr.options.progressBar=!1,toastr.options.debug=!1,toastr.options.positionClass="toast-top-left",toastr.options.showDuration=333,toastr.options.hideDuration=333,toastr.options.timeOut=0,toastr.options.extendedTimeOut=1e3,toastr.options.showEasing="swing",toastr.options.hideEasing="swing",toastr.options.showMethod="slideDown",toastr.options.hideMethod="slideUp";var a='Marked as read. <button type="button" id="okBtn" class="btn btn-flat btn-success toastr-action">Undo</button>';toastr.info(a,"")}),a("#toast-long-action").on("click",function(t){toastr.clear(),toastr.options.closeButton=!1,toastr.options.progressBar=!1,toastr.options.debug=!1,toastr.options.positionClass="toast-bottom-left",toastr.options.showDuration=333,toastr.options.hideDuration=333,toastr.options.timeOut=0,toastr.options.extendedTimeOut=1e3,toastr.options.showEasing="swing",toastr.options.hideEasing="swing",toastr.options.showMethod="slideDown",toastr.options.hideMethod="slideUp";var a='Connection timed out due to firewall setup. Showing limited. <button type="button" id="okBtn" class="btn btn-flat btn-warning toastr-action">Retry</button>';toastr.info(a,"")})},n._toastrStateConfig=function(){toastr.options.closeButton=!1,toastr.options.progressBar=!1,toastr.options.debug=!1,toastr.options.positionClass="toast-bottom-left",toastr.options.showDuration=333,toastr.options.hideDuration=333,toastr.options.timeOut=2e3,toastr.options.extendedTimeOut=2e3,toastr.options.showEasing="swing",toastr.options.hideEasing="swing",toastr.options.showMethod="slideDown",toastr.options.hideMethod="slideUp"},t.DemoUIMessages=new e}(this.glavsnab,jQuery),function(t,a){"use strict";var e=function(){var t=this;a(document).ready(function(){t.initialize()})},n=e.prototype;n.initialize=function(){this._enableEvents(),this._initButtonStates(),this._initIconSearch(),this._initInversedTogglers(),this._initMessages(),this._initEItem(),this._initChatMessage(),this._initEditable(),this._initFlipCard()},n._enableEvents=function(){var t=this;a(".card-head .tools .btn-refresh").on("click",function(a){t._handleCardRefresh(a)}),a(".card-head .tools .btn-collapse").on("click",function(a){t._handleCardCollapse(a)}),a(".card-head .tools .btn-close").on("click",function(a){t._handleCardClose(a)}),a(".card-head .tools .menu-card-styling a").on("click",function(a){t._handleCardStyling(a)}),a(".theme-selector a").on("click",function(a){t._handleThemeSwitch(a)}),a(".catalog-actions #list").click(function(t){t.preventDefault(),a("#products .item").addClass("list-group-item")}),a(".catalog-actions #grid").click(function(t){t.preventDefault(),a("#products .item").removeClass("list-group-item"),a("#products .item").addClass("grid-group-item")})},n._handleCardRefresh=function(t){var e=a(t.currentTarget).closest(".card");glavsnab.AppCard.addCardLoader(e),setTimeout(function(){glavsnab.AppCard.removeCardLoader(e)},1500)},n._handleCardCollapse=function(t){var e=a(t.currentTarget).closest(".card");glavsnab.AppCard.toggleCardCollapse(e)},n._handleCardClose=function(t){var e=a(t.currentTarget).closest(".card");glavsnab.AppCard.removeCard(e)},n._handleCardStyling=function(t){var e=a(t.currentTarget).data("style"),n=a(t.currentTarget).closest(".card");a(t.currentTarget).closest("ul").find("li").removeClass("active"),a(t.currentTarget).closest("li").addClass("active");var i=n.closest('[class*="style-"]');if(i.length>0&&!i.hasClass("style-white")&&!i.hasClass("style-transparent"))i.attr("class",function(t,a){return a.replace(/\bstyle-\S+/g,e)});else{var s=!1;n.find('[class*="style-"]').each(function(){a(this).hasClass("style-white")||a(this).hasClass("style-transparent")||(a(this).attr("class",function(t,a){return a.replace(/\bstyle-\S+/g,e)}),s=!0)}),s===!1&&n.addClass(e)}},n._handleThemeSwitch=function(t){t.preventDefault();var e=a(t.currentTarget).attr("href");this.switchTheme(e)},n.switchTheme=function(t){a("link").each(function(){var e=a(this).attr("href");e=e.replace(/(assets\/css\/)(.*)(\/)/g,"assets/css/"+t+"/"),a(this).attr("href",e)})},n._initEItem=function(){var t=this;a("#products .item-pic > a").on("click",function(){return t.getItemById("eItem"),!1})},n.returnCat=function(t){var e=this,n=a("#products .breadcrumb a");n.on("click",function(){return e.getItemById(t),glavsnab.AppVendor._initTabs(),glavsnab.AppVendor._initAjaxModals(),e.returnCat("eCatalog"),!1})},n.getItemById=function(t){var e=this,n=a(".company-content").find("#products"),i=a(".company-content"),s=a(".mobile-back");i.addClass("loading").prepend('<div class="loading-bar indeterminate"></div>'),setTimeout(function(){a.ajax({url:"data/ajax/"+t+".html",beforeSend:function(){n.html(""),e.resetSendMessage()}}).done(function(t){console.log("click!"),n.html(t),glavsnab.AppVendor._initTabs(),glavsnab.AppVendor._initFotorama(),e.returnCat("eCatalog"),n.scrollTop(n.prop("scrollHeight")),i.removeClass("loading").find(".loading-bar").remove()}).fail(function(t,a){i.removeClass("loading").find(".loading-bar").remove(),n.html(t.statusText+"<br/>"+t.responseText)})},1e3),a("body").hasClass("layout-device")&&s.addClass("active")},n._initMessages=function(){var t=this;a(".message-list > li").on("click",function(){var e="checkbox"==a(this).find("a").data("type");if(e||(a(this).parent().find(".selected").removeClass("selected"),a(this).addClass("selected"),a("#messages").addClass("open"),t.getMessageById(a(this).find("a").data("message-id"))),e){var n=a(this).find(":checkbox");n.prop("checked",!n[0].checked)}}),a(".message-list-overlay").on("click",function(){a("#messages").removeClass("open"),a(".message-list").find(".selected").removeClass("selected")}),a(".mobile-back-button").on("click",function(){a(".message-list-overlay").trigger("click"),a(this).parent().removeClass("active")})},n.getMessageById=function(t){var e=this,n=a("#messages").find(".messages"),i=a(".message-send-container"),s=a(".mobile-back");i.addClass("loading").prepend('<div class="loading-bar indeterminate"></div>'),setTimeout(function(){a.ajax({url:"data/ajax/messages__tab"+t+".html",beforeSend:function(){n.html(""),e.resetSendMessage()}}).done(function(t){n.html(t),n.scrollTop(n.prop("scrollHeight")),i.removeClass("loading").find(".loading-bar").remove()}).fail(function(t,a){i.removeClass("loading").find(".loading-bar").remove(),n.html(t.statusText+"<br/>"+t.responseText)})},1e3),a("body").hasClass("layout-device")&&s.addClass("active")},n.resetSendMessage=function(){var t=a("#send-message-input");t.val("").trigger("input"),t.trigger("change")},n._initChatMessage=function(t){var e=this;a("#sidebarChatMessage").keydown(function(t){e._handleChatMessage(t)})},n._handleChatMessage=function(t){var e=a(t.currentTarget);if(13===t.keyCode){t.preventDefault();var n=(new Date).getHours()+":"+(new Date).getMinutes(),i=a(".list-chats li img").attr("src"),s="";s+="<li>",s+='\t<div class="chat">',s+='\t\t<div class="chat-avatar"><img class="img-circle" src="'+i+'" alt=""></div>',s+='\t\t<div class="chat-body">',s+="\t\t\t"+e.val(),s+="\t\t\t<small>"+n+"</small>",s+="\t\t</div>",s+="\t</div>",s+="</li>";var o=a(s).hide();a(".list-chats").prepend(o),o.show("fast"),e.val("").trigger("autosize.resize"),a(".offcanvas").trigger("refresh")}},n._initInversedTogglers=function(){var t=this;a('input[name="menubarInversed"]').on("change",function(a){t._handleMenubarInversed(a)}),a('input[name="headerInversed"]').on("change",function(a){t._handleHeaderInversed(a)})},n._handleMenubarInversed=function(t){"1"===a(t.currentTarget).val()?a("#menubar").addClass("menubar-inverse"):a("#menubar").removeClass("menubar-inverse")},n._handleHeaderInversed=function(t){"1"===a(t.currentTarget).val()?a("#header").addClass("header-inverse"):a("#header").removeClass("header-inverse")},n._initEditable=function(){a(".editable").wrapInner("<span></span>").append('<i class="fa fa-pencil"></>').editable({placement:"bottom",url:"/post"}),a(".edit").click(function(t){t.stopPropagation(),a("#publicname-change").editable("toggle"),a(".edit").hide()}),a(document).on("click",".editable-cancel, .editable-submit",function(){a(".edit").show()})},n._initFlipCard=function(){a(".flipControl").click(function(){a(this).closest(".card").toggleClass("flipped")})},n._initButtonStates=function(){a(".btn-loading-state").click(function(){var t=a(this);t.button("loading"),setTimeout(function(){t.button("reset")},3e3)})},n._initIconSearch=function(){0!==a("#iconsearch").length&&(a("#iconsearch").focus(),a("#iconsearch").on("keyup",function(){var t=a("#iconsearch").val();a(".col-md-3").hide(),a('.col-md-3:contains("'+t+'")').each(function(t){a(this).show()}),a(".card").hide(),a('.card:contains("'+t+'")').each(function(t){a(this).show()})}))},t.Demo=new e}(this.glavsnab,jQuery),function(t,a){"use strict";var e=function(){var t=this;a(document).ready(function(){t.initialize()})},n=e.prototype;n.initialize=function(){this._enableEvents()},n._enableEvents=function(){this._initToastrBtn(),this._initZayaButtonStates()},n._initToastrBtn=function(){glavsnab.DemoUIMessages},n._initZayaButtonStates=function(){a("#btn__newzaya").on("click",function(){var t=a(this).data("msg").split("|"),e=t[0]||"Hi!",n=t[1]||"",i=a(this).data("style")||"success";console.log(e),swal(e,n,i).then(function(){a(".modal").modal("hide")})}),a(".btn__zaya").on("click",function(){var t=a(this).data("msg").split("|"),e=t[0]||"Hi!",n=t[1]||"",i=a(this).data("style")||"success";console.log(e),swal(e,n,i).then(function(){a(".modal").modal("hide")})}),a("#zaya_sendinvite").on("click",function(){var t=a(this).data("msg")||"Hi!",e=a(this).data("style")||"success";console.log(t),swal(t,"",e).then(function(){})}),a("#zaya_sendagree").on("click",function(){var t=a(this).data("msg").split("|"),e=t[0]||"Hi!",i=t[1]||"",s=a(this).data("style")||"success";console.log(t),swal(e,i,s).then(function(){n._showAgreelist()})}),a("#zaya_send2").on("click",function(){swal({title:"Вы уверены?",text:"Я проверил всю заявку и хочу отправить предложения",type:"warning",showCancelButton:!0,buttonsStyling:!1,cancelButtonClass:"btn btn-danger",confirmButtonClass:"btn btn-success",confirmButtonText:'<i class="fa fa-thumbs-up"></i> Отправить',cancelButtonText:'<i class="fa fa-thumbs-down"></i> Отменить'}).then(function(){swal("Ваша заявка отправлена поставщикам","","success"),a(".modal").modal("hide"),n._showSuppl()})}),a("#zaya_senddecline").on("click",function(){var t=a(this).data("msg").split("|");t[0]||"Hi!",t[1]||"",a(this).data("style")||"success";swal({title:"Отклонение заявки",text:"Введите причину",type:"question",input:"text",showCancelButton:!0,buttonsStyling:!1,cancelButtonClass:"btn btn-danger",confirmButtonClass:"btn btn-success",confirmButtonText:"Отправить",cancelButtonText:"Отменить",showLoaderOnConfirm:!0,preConfirm:function(t){return new Promise(function(t,a){setTimeout(function(){t()},2e3)})},allowOutsideClick:!1}).then(function(t){swal({type:"error",title:"Заявка отклонена",html:"причина: "+t})})})},n._showSuppl=function(){a(".zaya-desc .nav-tabs li").removeClass("hide")},n._showAgreelist=function(){a(".zaya_actions_btn .btn").removeClass("disabled"),a(".zaya_actions_btn .btn:first").addClass("disabled")},n._handleThemeSwitch=function(t){t.preventDefault();var e=a(t.currentTarget).attr("href");this.switchTheme(e)},n.switchTheme=function(t){a("link").each(function(){var e=a(this).attr("href");e=e.replace(/(assets\/css\/)(.*)(\/)/g,"assets/css/"+t+"/"),a(this).attr("href",e)})},n._initIconSearch=function(){0!==a("#iconsearch").length&&(a("#iconsearch").focus(),a("#iconsearch").on("keyup",function(){var t=a("#iconsearch").val();a(".col-md-3").hide(),a('.col-md-3:contains("'+t+'")').each(function(t){a(this).show()}),a(".card").hide(),a('.card:contains("'+t+'")').each(function(t){a(this).show()})}))},t.Zayavka=new e}(this.glavsnab,jQuery);